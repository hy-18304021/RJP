スレッドのidはシーケンスで自動連番をするように。これはあらかじめ自分の手で作っておく仕様にする。
今はスレッドのidがあるかどうかという処理をスレッド作るごとにやっている。

レスのidもスレッドの種類ごとにシーケンスを作る処理をしているがこれが良くない。だから一回最初にレスの数を数えてデータベースに入れる。その後その数+1の値をインサートしてあげる。インクリメント方式にする。

それと今はスレッドを立てたらindex.jspでスレッドが一番上になって表示されるがそうではなく、スレッドを作った後、スレッドに対するレスを投稿するページに飛ぶようにしたほうがいいと思う。

あと各ページのurl直打ちされた時の対策をしていない。からする。
あと各投稿欄に対する対策をまだしていない。
テキストエリアを作っていない。
あと自分で名前の部分は打たせないようにする。構造が結構変わる。





スレッドを立てるときにはboardthreadのrescountにデフォルトで0が入っている状態。その後にthread.jspに飛ぶ。
その後レスを投稿したらそのスレッドに関するboard_threadのrescountの値の最大値を取り出す。その最大値+1した値をboard_resのRes_idに入れる。



残りのやること
・文字数制限についての対応。
・urlの直打ち対策。
・お気に入りボタン付けてお気に入りを管理できたりする。(時間があったら);
・ログイン認証のフィルタ。ログインしないと本来は入れないページに直打ち出来たらログイン画面に遷移させる。）
・そのページに直打ちされても表示させるものを表示させるフィルタ。



文字数制限
レスの投稿は1000文字以内。
スレッドのタイトルは50文字以内。
ユーザー名は25文字以内。
パスワードは20文字以内。(半角文字しか打たせないように。)
説明は1000文字以内。


編集ページとか投稿ページとかはすべてＵＲＬには表示されないから
対策はとりあえずいいかなって感じ。
ただ表示されるurlは対策をする。
それとindex.jspは直打ちされる可能性があるから対策をしっかりと。
編集画面から戻ったときとかはトップに戻るボタンをファーストサーブレットにつないで
その後index.jspに遷移させればいいと思う。